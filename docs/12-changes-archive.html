<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<!-- $Id: 12-changes-archive.html,v 2.6 2004/05/08 21:27:22 irmen Exp $ -->
<HEAD>
<TITLE>PYRO - Change Log (archive)</TITLE>
</HEAD>
<BODY background="backdrop.jpg">
<table border="0" width="100%">
<tr>
<td align="left"><a href="11-services.html">&lt;previous</a> | <a href="PyroManual.html">contents</a></td>
<td align="right">Pyro Manual</td>
</tr>
</table>
<hr>

<H2><u>Pyro Change Log (archive)</u></H2>
<p>The recent Pyro versions can be found in the regular <a href="12-changes.html">change log</a>.
<p>Pyro 0.1 has been lost in the dust. It wasn't suited for publication anyway, I guess :-)
<H3>Pyro 0.2</H3>
First working release. Only static proxies and very little configurability.
<H3>Pyro 0.3</H3>
<UL>
<LI>MAJOR: added Dynamic Proxies! Clients don't need to have a precompiled proxy file available any more! Check out <code>core.getProxyForURI/DynamicProxy</code>.
<LI>MAJOR: reworked the configuration possibilities. Check out <code>__init__.py</code>.
<LI>Moved config items to a class in <code>__init__.py</code>. They are accessed using '<code>Pyro.config.&lt;item&gt;</code>'.
<LI>Made the port and broadcast port configurable independently. The command lines now accept options to specify either or both ports.
<LI>naming: added delay in broadcast loop (wait a little for replies to arrive), Naming Service now returns PyroErrors instead of regular exceptions.
<LI>core: Cleaned up the Pyro exception passing, added <code>DynamicProxy</code> and <code>getProxyForURI</code>
<LI>pyroc: fixed bug in method output code (could forget a comma)
<LI>nsc: fully rewrote the parsing code to use the <code>util.ArgVParser</code>
<LI>scripts: the Window <code>.bat</code> files now use <code>%$</code>
<LI>added <code>util.py</code>, which contains a basic <code>sys.argv</code> parser like <code>getopt()</code>.
</UL>
<H3>Pyro 0.4</H3>
<UL>
<LI>naming: changed broadcast server to reflect changes in Python 1.5.2's <code>SocketServer</code> module.  Pyro now requires this new <code>SocketServer</code> module (which works with previous Python versions, too, so you could only replace the <code>SocketServer</code> module and keep the rest of your Python installation intact).
<LI>naming: fixed bugs when reporting exceptions ('entry already exists' and 'not found').
<LI>util: added <code>getUUID</code> function, and a script <code>genuuid</code>.
<LI>core: Pyro objects are now identified by a full UUID, instead of a simple Python <code>id()</code>. This should prevent nasty object ID problems, especially later when persistent naming and object activation will be implemented.
</UL>
<H3>Pyro 0.5</H3>
<UL>
<LI>MAJOR: the Pyro Naming Service now is a Pyro object itself, too. It can be accessed through its Pyro interface.
<LI>More specific exceptions (<code>ProtocolError, URIError, DaemonError, NamingError</code>...)
<LI>It is now possible to connect objects without the presence of a Naming Service.
<LI>core: the Daemon can now handle requests for others too, by a callback mechanism.  Also removed up the server-side exception trace info when the exception is generated on purpose, and added a nice message when the daemon cannot be started.
<LI>naming: many changes to make the Name Server a Pyro object itself.  Finding the NS is now done through the <code>NameServerLocator</code>, which returns a regular Pyro proxy for the NS. No <code>NameServerClient</code> is needed anymore.
<LI>util: tweaked the way the timestamp in URIs is generated.
<LI>config: more configurable items.
<LI>scripts: <code>Pyroc.bat</code> now uses <code>%$</code>, too (oops!)
</UL>
<H3>Pyro 0.6</H3>
<UL>
<LI>Added <code>xnsc</code>, a naming service control tool with a GUI (uses <code>Tkinter</code>).
<LI>The naming service can be launched in 'persistent mode': it will keep the naming directory in a persistent database on disk. EXPERIMENTAL!
<LI>core: added 2 configuration variables in <code>Pyro.config</code>: <code>PYRO_PATH</code> and <code>PYRO_STORAGE</code>.
<LI>core: added method to <code>ObjBase</code> to set a fixed (persistent) object UUID.
<LI>core: slight change in the init code of <code>PyroURI</code>, it can now be created directly from a URI string, instead of using <code>initFromString</code>.
<LI>core: the <code>Daemon</code> now has preliminary support for persistent objects: <code>connectPersistent</code> and <code>disconnectPersistent</code> methods were added. LIKELY TO CHANGE!
<LI>naming: added a persistent name server class <code>PersistentNameServer</code>. Also added some code to deal with this when using the '<code>ns</code>' command line tool: a new option '<code>-db</code>' has been added to specify persistent mode.
<LI>naming: the broadcast server now binds on '' instead of the hostname. This appears to be more compatible (on some systems it was impossible to connect to the broadcast server).
<LI>naming: implemented graceful shutdown command. The server also uses a timeout loop for the requests (because otherwise ^C wouldn't break gracefully on WinNT - Duh).
<LI>scripts: <code>nsc</code> (and <code>xnsc</code>) now print a sorted list (and have the shutdown command).
<LI>scripts: the <code>.bat</code> files now won't echo the python command anymore.
<LI>utils: <code>ArgParser</code> changed to use <code>None</code> instead of <code>1</code> when no arguments are given to a certain option.
<LI>test: <code>testclient</code> will use dynamic proxy automatically if no static proxy is found.  Also, it will try a direct connect if the NS lookup by broadcast fails.
</UL>
<H3>Pyro 0.7</H3>
<UL>
<LI>bumped all versions to 0.7
<LI>NOTE: because of some changes you will have to generate your proxies again with <code>pyroc</code>!
<LI>core: separated the Exception types and the protocol adapters to <code>errors.py</code> and <code>protocol.py</code>.
<LI>util: added a <code>Logger</code> object, <code>Log</code>. It is used throughout Pyro to log messages, warnings and errors. You can configure the logfile and the trace level settings with some new configuration options. Ofcourse you can use it for your own logging purposes too.
<LI>init: changed the way configuration items are set up. If a corresponding environment variable exists, that value is used. Otherwise the default applies. This works for all configuration options except <code>PYRO_NS_NAME</code> because that is a registered name and should not be changed.
<LI>naming: the naming server now writes its URI to a special output file. This can be used to contact the naming server if you can't use the broadcast locator for some reason.
<LI>uuids: renamed UUID to GUID (Globally Unique ID). You can never be sure that your ID is Universally Unique, so I changed the name. Also, the <code>genuuid</code> scripts have been renamed to <code>genguid</code>.
<LI>changed default pickling mode to binary, to improve performance. A new configuration option lets you choose between ASCII or binary.
<LI>pyroc: fixed a problem where the '<code>self</code>' argument of a member function had a different name. Pyroc now uses '<code>S</code>' everywhere.
<LI>pyroc: added support for inherited classes. A module within a Python package is not yet supported as input!
<LI>pyroc: explicit checks against special Python methods <code>__xxx__</code>. They are not allowed in the proxy code.
<LI>MAJOR documentation update.
</UL>
<H3>Pyro 0.8</H3>
<UL>
<LI>A few fixes in the source comments.
<LI>Added separate user logging facility and fixed small bug in logger code (it was too picky on the arguments).
<LI>Moved some protocol dependent code from <code>core.py</code> to <code>protocol.py</code>
<LI>New exception model! See documentation! Basically, every exception on the server side will be catched and raised on the client side.
<LI>Naming server and the <code>nsc</code> and <code>xnsc</code> tools are stricter with the names and URIs they allow.
<LI>GUIDs are now 128 bit (instead of 144) and Pyro can use Windows GUIDs on the Windows platform. This is configurable trough a new configuration item <code>PYRO_USE_WIN32GUID</code>. This is <em>not</em> the default and will work only on the Windows platform, because the Python COM extension is used for this.
<LI>New <code>genguid</code> script with '<code>-w</code>' argument to generate a Windows GUID if possible.
<LI>Fixed some things to allow for special 'localhost' optimization (the reduced overhead of some network implementations when using 'localhost' instead of the real hostname). The changes are:
  <UL>
  <LI>Pyro daemon now binds on '' instead of hostname. Previously, URIs with the 'localhost' hostname couldn't be bound.
  <LI>The <code>PyroURI</code> class has a new <code>optimizeLocalhost</code> method, which -if possible- optimizes the URI for localhost addressing.
  </UL>
This also paves the way for more optimizations might be added when Pyro detects a local URI. (for instance, using IPC instead of going trough the network)
<LI>Implemented Delegate pattern for remote object implementations. Instead of subclassing your object implementation from <code>Pyro.core.ObjBase</code>, you just create a <code>Pyro.core.ObjBase</code> object and tell it to use another object as a delegate.
<LI>New <code>ArgParser</code> in <code>util.py</code>, to support more convenient script arguments. A few scripts have slightly altered syntaxes now, which should be more convenient. The old syntax should still work however.
<LI>Documentation updates. Major addition is the new chapter with a practical guide about how to develop Pyro programs. 
</UL>
<H3>Pyro 1.0</H3>
<UL>
<LI>MAJOR: Reimplemented the PYRO protocol. It now uses a MUD-like system instead of a webserver-like system. 
The protocol used to create a new socket connection for each method call. This is inefficient and resource hungry.
The new implementation uses a single socket for each Pyro object, and all method calls and replies are passed over this connection. The connection remains active until the object is no longer needed.
The new implementation no longer has the serious problem that the previous implementation had on most machines: when a lot of method calls were made,
the system would crash with some sort of 'resource unavailable' or 'out of memory' error. The new protocol is also faster than the previous one on all systems.
<LI>Because of the new protocol, I think Pyro now deserves the version 1 status: bumped all version numbers to 1.0
<LI>The Pyro <code>Daemon</code> inherits from the new <code>TCPServer</code> base class (in <code>protocol.py</code>). This server replaces the <code>SocketServer.TCPServer</code>.
The new server keeps a list of active connections, while the old one operated like a webserver: it created a new socket connection for each request.
<LI>Pyro Daemon has been adapted to the new protocol.
<LI><strong>NOTE:</strong> The new PYRO protocol is <em>incompatible</em> with the older versions. Communication is impossible between different Pyro versions. You should upgrade all Pyro installations to the new version.
However, user code does <em>not</em> have to be changed. Old code still runs on top of the new implementation (the API has not been changed).
<LI>The Windows .bat scripts now use <code>#*</code> instead of <code>#$</code> (which didn't work on the standard Windows95/NT command prompt).
<LI><code>xnsc</code> handles communication errors better.
<LI>Organized the tests in the <code>test</code> directory and added some readme files. Also added some more tests/examples.
<LI>Moved some socket code out of other modules to <code>protocol.py</code>. Now only <code>naming.py</code> and <code>protocol.py</code> have socket code.
<LI>Removed the <code>NULLAdapter</code>.
<LI>Removed the pickling of NS system commands. They're simple strings now.
<LI>Added socket send/receive helper functions in <code>protocol.py</code> for robust data transmission. The new protocol code uses them. Performance is lower but the new code should guarantee correct behaviour even at high network loads with many packet losses and fragmentations.
<LI>New exceptions <code>SocketClosedError</code> and <code>ServerFullError</code>.
<LI>Removed <code>RemotePyroException</code> (unused).
<LI>Small change in the <code>xnsc</code> GUI: better resizing
<LI>The new protocol enforces a limit on the number of simultaneous connections to each Pyro daemon. This is for protection of the server machine. There is a new configuration item <code>PYRO_MAXCONNECTIONS</code> that sets this limit. Currently the default is 200.
<LI>The <code>unregister</code> method of the naming service now raises a <code>NamingError</code> when the name is not known. I added this because usually this signals a typo in the calling code (it should never unregister an unknown name).
<LI>Documentation updates; manual is finished except for the implementation chapter.
</UL>
<H3>Pyro 1.1</H3>
<UL>
<LI>MAJOR: Naming Service now has a hierarchical namespace. It has groups, which can contain other groups or names. By default, a dot ('.') in a name is the group separator, so that &quot;group1.group2.name&quot; is a hierarchical name.
Notice that this is much like DNS's host/domain name scheme, but <em>in reverse order</em>, rather like a directory structure in a disk file system.
The big gain from all this is that you can have different &quot;domains&quot; (namespaces) in your Pyro environment. With a simple change of the default namespace group your system uses a different &quot;domain&quot; and the object names will not interfere with other systems (provided your namespace group is unique).
For an application of this, see the new test programs, which now all use the ':test' namespace group. Also, it opens the gates for an even more sophisticated naming service: a distributed federated hierarchical nameservice (wow!! :-)
<LI>The default or de facto namespace group is &quot;:Default&quot;. This means that Pyro code that does not (yet) use the new naming scheme will wind up registering all its object names in this namespace group. That's nice because this is a simple way to avoid name clashes with legacy Pyro code and new code.
<LI>Adapted the NS proxy to enforce the default group on all names that are not absolute from the root. It is now required that all names passed to the NS are absolute (fully expanded), the hand coded NS proxy takes care of this.
Note that a proxy obtained for the NS by other means <em>does not have this feature</em> and will likely break your code! Notably, the use of a dynamic proxy for the NS will no longer work correctly. Always use the <em>static proxy</em> from the <code>naming</code> module.
<LI>Added configuration item <code>PYRO_NS_GROUPSEP</code>, which is the character that separates groups in names. By default it is a dot ('.'), but if this proves incompatible with existing naming schemes (that use dots in the names), just change it to something else.
Notice that this item is only examined <em>once</em>: at startup time. You have to restart the Naming Service if you change this item.
<LI>Added configuration item <code>PYRO_NS_DEFAULTGROUP</code>, which is the default group name in which names are located. This simplifies partitioning your name space greatly.
Notice that the Name Server proxy code is hand crafted to enforce this name.
<LI>Added configuration item <code>PYRO_NS_ROOTCHAR</code>, which is the default escape character at the beginning of names, which indicates the name is absolute from the root.
<LI>Changed the config item for the name server name to include a root character. Existing code should not break (if it does, you probably didn't use <code>PYRO_NS_NAME</code>...
<LI>Extended the name server object with three new remote methods for hierarchical naming support: <code>createGroup</code>, <code>deleteGroup</code> and <code>list</code>. Furthermore, <code>status</code> has been renamed to <code>flatlist</code>. This suggests better what it does: return a flat dump of the namespace.
<LI>Extended <code>nsc</code> and <code>xnsc</code> with the new naming service features: <em>list</em>, <em>creategroup</em> and <em>deletegroup</em> commands. (The old <em>list</em> command was renamed to <em>listall</em>).
<LI>Simplified dynamic proxy. It used to create a invocation object with each method call, this is no longer so.
<LI>Fixed bug in <code>protocol.py</code> where a <code>KeyError</code> in a method invocation was always treated as if a method call on an unknown object was tried, even when the object was correct (but raised a <code>KeyError</code>)
<LI>Naming service will no longer crash when an unexpected exception occurs while it is running. It will log and print the error and resume operations. A ctrl-c (<code>KeyboardInterrupt</code>) will still abort it, however, as will sending a <em>shutdown</em> command.
<LI>Small change in the Daemon in <code>core.py</code>. If a ProtocolError is detected (for instance, an invalid header), the connection is dropped and operations are resumed. Pyro used to block or crash when a non-Pyro client connected, such as a plain telnet or a web browser pointed at Pyro's socket.
<LI>Test servers and clients are now using common code bases. They're registering their names in a new &quot;<code>:test</code>&quot; group (namespace) too, to help avoid conflicts with your own names. Servers will no longer crash if their name is already registered (they just register again). 
<LI>Fixed a few small errors in some of the test programs, and created an electronic banking example to be a nice starting point for Pyro applications.
<LI>Fixed bug in some default arguments to functions, where config items were used. Now they are parsed at use instead of at module import time. 
<LI>Added '<code>-k</code>' switch to <code>ns</code> that will start the NS in a mode in which it ignores shutdown requests sent by <code>nsc</code>. This is a crude form of security, to protect the NS for malicious shutdowns.
<LI>Documentation updates about the new naming scheme.
<LI>New example added that uses the new naming functions.
<LI>Configuration files! You can now use a configuration file that contains all required Pyro config options. It's no longer necessary to use a big list of environment variables.
<LI>New configuration item <code>PYRO_CONFIG_FILE</code>. Only useful as environment variable, it points to the configuration file Pyro has to use.
</UL>

<H3>Pyro 1.2</H3>
<UL>
<LI>Fixed bug in TCPserver code (could skip connections). Please update all Pyro installations because this was a rather nasty bug.
<LI><code>Daemon.connect</code> now returns the URI it connects the object as. This is convenient for servers that want to use the URI immediately without having to consult the nameserver.
<LI>It's now possible to get/set attributes on Pyro objects with normal Python syntax! (changes to <code>ObjBase</code> and new <code>DynamicProxyWithAttr</code>) <em>You have to update all Pyro installations if you want to use this new feature.</em> If you don't use it, Pyro 1.2 should work together with version 1.1.
Notice that there is a performance hit of a few percent when you use <code>DynamicProxyWithAttr</code> instead of the regular <code>DynamicProxy</code> to support the attribute feature.
<LI>Server objects can now create new Pyro objects and marshal Proxy objects to the clients! (changes to <code>DynamicProxy</code>: it delays binding until actually needed, and they can now be safely pickled).
<LI>Added two new examples to show the use of the new attribute getting/setting, and the creation of new Pyro objects on the server. 
<LI>Fixed bug in proxy code: nested method calls didn't work. For instance, <code>obj.setCount(obj.getCount()+1)</code> now works correctly.
<LI>Daemons (servers) now have a <em>port range</em>. This means that they try to obtain a network port within a range, instead of a single configured port as it was before.
The port range allows you to start multiple daemons/servers on a single machine, they now automatically select the next available network port.
<LI>New configuration item for the port range: <code>PYRO_PORT_RANGE</code>.
<LI>Upgraded <code>pyroc</code> to 1.2; static proxies now also support direct attribute access.
<li>Documentation updates for new features.
</UL>
<H3>Pyro 1.3</H3>
<UL>
<LI>Removed the <code>DaemonSlave</code> class. Moved it into the <code>Daemon</code> class. Also required small change to <code>TCPServer</code>.
<LI>GUID format changed: internally, GUIDs are now treated as a 128 bit binary number (represented as a string of 16 8-bit characters). This saves memory and network bandwidth. Visually, the number is printed as 4 chunks of unsigned 32 bit hex, separated by a dash.
<LI>Because of the previous change, the PYRO protocol is no longer compatible with the previous versions. It identifies itself with version 1 rev 3 and raises &quot;incompatible version&quot; exceptions if you try to connect with other protocol versions. Please update all Pyro installations to version 1.3
<LI>To handle versioning things better, a few changes in <code>protocol.PYROAdapter</code> were also necessary.
<LI>Added optional hostname argument to <code>TCPServer</code> and <code>Pyro.core.Daemon</code>. The <code>ns</code> command has a new option "-n" to specify a specific hostname to bind the server on.
<LI>Removed <code>optimizeLocalhost</code> method from <code>PyroURI</code>
<LI>URIs no longer use hostnames, they now encode the IP addresses directly. This solves some problems when a DNS service is not available. <code>PyroURI</code> consequently has an <code>address</code> member instead of the previous <code>host</code> member. There are some small changes throughout the code to support this.
<LI>Removed 1.5.2 dependency on <code>os.path.abspath</code>.
<LI>Fixed bug in Daemon <code>handleRequest</code> loop: in contrast to what the documentation says, it didn't return after a request had been processed. It now does.
<LI>WIN32 GUIDs have been removed, and the corresponding configuration item too (<code>PYRO_USE_WIN32GUID</code>).
</UL>
<H3>Pyro 1.4</H3>
<UL>
<LI>One word: <em>multithreaded</em>. A few changes in the <code>TCPServer</code> allows it to run in multithreaded mode on systems that have Python threads. Please read the <em>Rules and Limitations</em> chapter for more information. <em>Note that the multithreaded capabilities have not yet been tested very much and probably aren't very stable.</em>
<LI>Added <code>PYRO_MULTITHREADED</code> config item to specify whether a Pyro server should be multithreaded or single threaded. It defaults to 1 (multithreaded) on systems that support this.
<LI>Fixed a socket bind() error in the NS; it now correctly pays attention to a supplied specific hostname to bind the server on (the BroadcastServer still used to bind on <code>''</code> - fixed).
<LI>Removed a socket bind() call from the <code>NameServerLocator</code>.
<LI>Fixed small typo in <code>xnsc</code>: the port number of the NS is now correctly displayed.
<LI>Added &quot;quickstart&quot; example that uses John Wiegley's <code>remote.py</code> module. It makes using Pyro extremely easy: look at the client and server code!
<LI>Added &quot;multithread&quot; example that shows the need of a multithreaded server (as supported since this release).
<LI>Added <code>__copy__</code> method to the proxy code, which creates a local copy of a proxy object (with a new connection to the remote object).
<LI>Fixed bind() and connect() calls in <code>protocol.py</code> to be compatible with Python 1.6.
<LI>Fixed possible socket binding error in Pyro servers by setting socket option to reuse local address.
<LI>Fixed problem with binary GUID: <code>int2binstr</code> could return a string with less bytes than expected which creates an invalid binary GUID. The code now passes a required string size and the GUID is now always 4*4 bytes.
<LI>Fixed bugs that prevented the use of AttrProxies with delegated objects. You can now use direct attribute access with objects subclassed from ObjBase or delegated objects.
</UL>
<H3>Pyro 1.5</H3>
<UL>
<LI>Fixed multithreading issues, most notably the protocol errors (&quot;invalid header&quot;). (An incoming request is now fully read from the socket before a thread is dispatched to process the method call).
<LI>Protocol update. You must update all Pyro installations because the new PYRO protocol is incompatible with the previous one.
<LI>PYRO protocol can now compress the messages to save bandwidth, for instance over low-speed connections such as modem. You can control this with the new configuration item <code>PYRO_COMPRESSION</code>. However, the current solution is temporary and is likely to be replaced with a more general implementation. The <code>zlib</code> module is used for compression. If you don't have <code>zlib</code>, Pyro still works, but without compression.
<LI>Fixed a reference cycle in ObjBase when not using delegate.
<LI>Small change to examples/quickstart: existing name is silently overwritten in Name Server.
<LI>Small change in <code>Pyro_dyncall</code> method of <code>ObjBase</code> that makes it a little more generic when checking for 'local' attributes.
<LI>Small change in error message for INVALID HEADER in protocol.py, now prints socket address.
<LI>Xnsc tool is now a bit wider so more text fit in the window without wrapping.
<LI>Removed <code>__call__</code> method from <code>DynamicProxy</code>. I assume nobody ever used the only benefit it provided (that <code>proxy('method')</code> was slightly faster than <code>proxy.method()</code>).
<LI>Configuration files are handled a little different at startup. If you don't specify a specific config file with the environment setting, Pyro checks for a <code>Pyro.conf</code> file in the current directory.
If it exists, Pyro uses it as a configuration file. If it doesn't exist, Pyro uses the default built-in config.
Furthermore, Pyro now raises a PyroError if somehow a config file can't be read.
<LI>Daemon prints a more verbose error message if it can't start.
<LI>Pyro server now raises a PyroError if it can't load the Python module that is needed for the code of objects that were passed in a remote call.
<LI>&quot;quickstart&quot; example has been extended. New version of <code>remote.py</code> and a very convenient <code>pyrorun</code> script. (John Wiegley)
<LI>Mobile agent example added; &quot;agent&quot; (it comes close but it is not yet a real mobile agent - the code doesn't yet travel across the network)
<LI>Small documentation updates and fixes.
</UL>

<H3>Pyro 2.0</H3>
<UL>
<LI>NEW MAJOR VERSION. Because of all new features mentioned below.
<LI>True mobile agent support! Pyro can now automatically push Python code
across the network to make mobile agents possible. See the &quot;agent2&quot; example.
<LI>Persistent Naming Service. See relevant documentation! (the new name server chapter) 
<LI>Added <code>rns</code> script; this script restarts the NS automatically after a shutdown or crash.
<LI>Documentation updates (examples + new name server chapter + feature chapter contains much more info).
<LI>Changed old persistence code in <code>core.py</code>.
<LI>Added <code>PersistentNameServer</code> class in <code>naming.py</code>, which implements a NameServer that uses the hierarchical file system on your disk to store its database in a persistent way.
<LI>NameServer now always returns <code>PyroURI</code> instances from <code>resolve</code>. In the past it could also return URIs as strings.
<LI>It's no longer possible to delete the root group from the NS.
<LI>Removed Python 1.5.1 workarounds ('extra' dir with socketserver module, abspath workaround in config module). Please upgrade to at least Python 1.5.2.
<LI>Socket code no longer throws <code>socket.error</code> but <code>Pyro.errors.SocketClosedError</code> exceptions.
<LI><code>PYROAdapter</code> has new <code>rebindURI</code> method to support the new auto reconnect/rebind feature when a network problem occurs.
<LI><code>PYROAdapter</code> now raises a <code>ProtocolError</code> when it receives a request for an unknown object ID.
<LI><code>ServerFullError</code> exception has been removed!!! You must change your code that used it. It has been replaced by a more general <code>ConnectionDeniedError</code> exception.
<LI>Generalized new connections check: the daemon now has a <em>new connections validator</em>, which can be replaced by a custom version. The default version implements the old behaviour; checking if the number of connections is less than the maximum amount configured in PYRO_MAXCONNECTIONS. See relevant documentation about the validator.
<LI>Added &quot;denyhosts&quot; example to show custom connection validator feature.
<LI>Added &quot;autoreconnect&quot; example to show auto reconnect feature.
<LI>Name Server now has security plugins; one for validating broadcast requests, and one new connection validator as described above. See relevant docs.
<LI>Added &quot;NS_sec_plugins&quot; example to show the NS security plugin feature.
<LI>Added &quot;agent2&quot; example with true mobile agent code.
<LI>Added <code>PYRO_MOBILE_CODE</code> config item to enable mobile code.
<LI>Added <code>PYRO_DNS_URI</code> config item to use symbolic DNS hostnames
in URIs instead of fixed IP addresses 
<LI>Added support for mobile code in <code>Pyro.core.ObjBase</code>.
<LI>Performance tuning in <code>core.py</code>; PROTOCOL IS INCOMPATIBLE with previous version.
<LI>Slight addition to <code>Pyro.core.Daemon</code>: extra <code>publishhost</code> argument to use in case of firewall situation. See Features chapter.
</UL>


<H3>Pyro 2.1</H3>
<UL>
<LI>Pyro is now under the GNU LGPL. See &quot;LICENSE&quot;.
<LI>Fixed spelling errors in the documentation.
<LI>Removed some config items to make things less complex. You have to
remove them from your Pyro.conf files too:
<LI>Removed config item <code>PYRO_NS_NAME</code>; it is now hardcoded and available (if needed) as <code>Pyro.naming.NS_NAME</code>.
<LI>Removed config item <code>PYRO_NS_GROUPSEP</code>; it's now hardcoded as '.'.
<LI>Removed config item <code>PYRO_NS_ROOTCHAR</code>; it's now hardcoded as ':'.
<LI>Added the Event Service (<code>Pyro.EventService.*</code>). See the chapter on Pyro Services. There is an example too: &quot;stockquotes&quot;.
<LI>Fixed the &quot;naming&quot; example. 
<LI>Translated the TODO list from Dutch to English, so everybody can read it now.
<LI>Enhanced <code>DynamicProxy</code>; it can now be used as a key in a dictionary. This was needed for the Event Servive.
</UL>
<H3>Pyro 2.2</H3>
<UL>
<LI>GUIDs are now constructed using the Python process ID (PID) too. This gives extra safety
against double GUIDs possibly generated by multiple python processes on the same machine.
<LI>Renamed <code>SocketClosedException</code> to <code>ConnectionClosedException</code>. The new name
is more independent of the actual implementation.
<LI>Removed some references to the <code>socket</code> module and <code>socket.error</code>.
This makes the rest of the code more independent of the actual protocol implementation.
A future Pyro release may contain even more changes to fully support multiple protocol implementations (not only sockets).
<LI>Documented the <code>pickle</code> trojan vulnerability in the 'Features and Guidelines' chapter.
<LI>Included setup script by Alexandre Fayolle.
</UL>
<H3>Pyro 2.3</H3>
<UL>
<LI>Pyro now requires at least Python 2.0.1, but Python 2.1.1 or later is recommended. Anything older than Python 2.0.1 is no longer supported.
<LI>Added <code>PYRO_NS_HOSTNAME</code> config item, for direct hostname lookup when the NS can't be found using broadcast.
<LI>Documentation and examples changed to reflect the above enhancement.
<LI>Grand renaming: Naming Service is now called Name Server everywhere. Event Service stays.
<LI>Logger now uses YYYY-MM-DD hh:mm:ss date/time format.
<LI>Event Service improved, but it now requires threads to work. Major problems
have been fixed regarding re-subscribing and unsubscribing while processing events.
<LI>Improved rich comparison and hashing of proxies. They can now be a key in a dictionary,
and proxies that refer to the same object GUID, compare the same.
Sadly, this largely breaks the hashing and rich comparison possibility of the remote Pyro objects. You're not
comparing those objects, you're comparing the proxies... The hashing and rich comparison didn't work for remote objects in
Pyro 2.2 too (same reasons) so this is not too bad.
<LI>Dramatically improved the speed when sending <strong>large</strong> messages: the sock_recv code now uses
a list of chunks and joins them at the end, instead of string concatenation.
You will see the difference in the hugetransfer example: the message size has been
increased tenfold, but the time it takes is almost unchanged :-)
</UL>
<H3>Pyro 2.4</H3>
<UL>
<LI>Preliminary Jython support, workarounds/hacks to fill in for missing features such as
<code>select</code>, <code>errno</code> and <code>getpid</code>.
<em>Only PYRO clients in Jython currently, because servers need <code>select</code>!</em>
<LI>Fixed docs about removed config items in Pyro 2.1
<LI>Fixed time format string in logger, now the loggings includes the time again on Windows
<LI>Fixed indentation errors in quickstart example's <code>remote.py</code> and it
should work again on Windows (signals).
<LI>Fixed the log file configuration options, they now work as documented. When changing
<code>PYRO_LOGFILE</code> or <code>PYRO_USER_LOGFILE</code>, all following log messages
are written to the new location. If the filename isn't an absolute path, it will be made
relative to the current <code>PYRO_STORAGE</code> location.
<LI>Slightly clearified the docs on the <code>PYRO_STORAGE</code> config item.
<LI>Updated the example chapter to use Pyro 2.4.
<LI>One additional small change to the proxy code: <code>__nonzero__</code> has been defined in the proxy.
<LI>Pyroc now also generates proxy code with the various comparison and hashing functions.
<LI>Oneway invocations support added. See the chapter on features and guidelines.
<LI>New event service example &quot;countingcars&quot; that shows a client that changes its topic subscriptions.
<LI>New &quot;callback&quot; example that shows callback invocations to clients and the new Oneway call.
<LI>Event service now sets correct (publish) timestamps on events, also with slow clients.
<LI>Event service uses oneway invocations to publish the events and to decouple from slow or buggy clients.
They no longer stall the publication thread in the ES.
<LI>Documentation updates on the new features.
</UL>
<H3>Pyro 2.5</H3>
<UL>
<LI>Slight change in names in the example chapter to avoid ambiguity between 'test' object and 'test' module.
<LI>Rewrote PYRO_STORAGE directory checking to something much simpler. Should work on all platforms now.
<LI>Navbar also at bottom of documentation pages for easier navigation.
<LI>New config option <code>PYRO_CHECKSUM</code> to enable a quick Adler32 checksum on the messages.
(Why Adler32 and not CRC32? Adler is faster, and we need speed).
<LI>Now using regular expression to parse Pyro URI strings.
<LI>New URI <code>PYRONAME://nshostname:port/objectname</code> for
<em>very</em> easy automatic object lookup. nshostname and port are optional.
<LI>New URI <code>PYROLOC://hostname:port/objectname</code> for
<em>very</em> easy object binding without using a Name Server. port is optional.
<LI>The Pyro Daemon itself is now a Pyro object too. This was needed for the PYROLOC: resolving, but
it might prove valuable too in a later version when you might want to access it to get information
on server objects, for instance. The Daemon has a fixed builtin GUID,
<code>Pyro.core.INTERNAL_DAEMON_GUID</code>. I'm not sure if this feature stays,
because it might also be a huge security/stability hole. (please advise?)
<LI>Improved documentation here and there.
<LI>The setup.py script no longer overwrites system tools blindly, it warns you of this issue and
it asks you to specify the path were the Pyro scripts have to be installed.
</UL>
<H3>Pyro 2.6</H3>
<UL>
<LI>Fixed mobile code (agents). Internal exception caused socket to shutdown, causing connection lost error.
<LI>Minor changes to the docs, documented the mobile code module restriction, a bit more details on auto rebind.
<LI>Fixes to some small and a few nasty bugs that had crept in. Some bugs detected by pychecker, yay
<LI>Moved constants to new module <code>Pyro.constants</code> to avoid import conflicts.
<LI>Renamed and moved the internal Pyro names: <code>Pyro.constants.NAMESERVER_NAME</code> and <code>Pyro.constants.EVENTSERVER_NAME</code>.
(previously <code>NS_NAME</code> and <code>EVENTSERVICE_NAME</code>)
<LI>Fixed <code>StringTypes</code> that was a Python 2.2 dependency.
<LI>Event Server clients will now correctly terminate (the request loop no longer hangs)
</UL>
<H3>Pyro 2.7</H3>
<UL>
<LI>Pyro is close to a major new release (3.0). It appears that 2.x has no more big issues.
<LI>Mobile code improved: can now transmit modules from packages! Agent2 example changed to reflect this.
<LI>Added two more examples: chatbox with and without using the Event Server.
<LI>Finally documented the Name Server Pyro object methods.
<LI>Minor other changes and additions to the docs.
<LI>Fixed some leaks when handling exception tracebacks.
<LI>Added logic to transfer remote exception tracebacks to clients and to print them on the client.
 See <code>Pyro.util.getPyroTraceback</code>.
<LI>The <code>NameServerLocator</code> no longer performs a broadcast lookup
if the hostname is specified in the <code>getNS</code> call,
 or if the <code>PYRO_NS_HOSTNAME</code> config item is specified. 
<LI>Added host and port options to Event Server start script. 
<LI>Event Server now has nice error handling and cleanup, like the Name Server.
<LI>No longer does SO_REUSEADDR on sockets when running under Windows, because
Windows has a quirk with this that allows multiple processes to listen on the same socket.
</UL>
<H3>Pyro 2.8</H3>
<UL>
<LI>Fixed import Pyro.protocol error by moving RIF_* flags to constants module.
<LI>Completed chapter 6 - implementation. Not as much info as I would like, but
it's enough to get a quick idea of how Pyro's implemented.
<LI>Compressed the example chapter to make it easier to understand.
<LI>Changed preferred way of dealing with the daemon's request loop to <code>requestLoop</code>,
instead of <code>handleRequests</code> (Don't worry, the latter still exists!).
Updated most examples.
<LI>Fixed ^C handling of chatbox examples.
<LI>Fixed bug when both compression and checksumming were enabled. 
<LI>Setup script should work again under Win98, also, entering no path for the location
for the script files takes the distutils default path.
<LI>Fixed old bug in pyroc generated proxy code	(method names for remote attribute access were wrong)
<LI>Added agent docs on module dependencies: imports of other unknown modules don't work in agents.
</UL>
2.8 was the latest Pyro version in the 2.X series. Development continued with Pyro 3.0.

<HR>
<table border="0" width="100%">
<tr>
<td align="left"><a href="11-services.html">&lt;previous</a> | <a href="PyroManual.html">contents</a></td>
<td align="right">Pyro Manual</td>
</tr>
</table>
</BODY>
</HTML>
